
export const AI_CONFIG = {
  // 严格从环境变量获取 API_KEY
  apiKey: process.env.API_KEY,
  
  model: 'gemini-3-flash-preview',
  
  params: {
    temperature: 0.1, // 降低随机性，确保结构输出的高度稳定性
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 12000, 
  },

  prompts: {
    // 模式 1：图片还原
    imageReconstruct: `你是一个世界顶级的思维导图解析引擎。
任务：将图片中的思维导图全量、无损地还原为深度递归的 JSON 树结构。
要求：
1. 必须返回一个根对象，该对象必须包含 "name" 属性（中心主题名称）。
2. 绝不遗漏：哪怕是最细小的末梢分支也必须捕获。
3. 颜色与位置：识别分支的 HEX 颜色和 side (left/right)。
4. 递归结构：子节点放在 "children" 数组中，每个子节点同样包含 name, color, side (可选), children (可选)。`,

    // 模式 2：需求分析
    docToMindMap: `你是一个资深产品经理和系统架构师。
任务：深度分析用户提供的“需求文档”文本，将其转化为一个逻辑严密的思维导图 JSON。
要求：
1. **强制根节点**：JSON 必须是一个单一对象，且必须包含 "name" 属性作为整个需求的中心标题。
2. **层次化拆解**：按照“核心目标 -> 功能模块 -> 子功能 -> 业务逻辑/细节”进行层级划分。
3. **逻辑提炼**：不要照抄原文，要提炼出关键词作为节点名称，确保导图简洁有力。
4. **平衡布局**：将主要模块均匀分配到 left 和 right 两侧（设置 side 属性）。
5. **专业审美**：为不同的核心功能模块（一级分支）分配不同的鲜明 Hex 颜色。
6. **递归深度**：不限嵌套深度，确保逻辑闭环。`
  }
};
